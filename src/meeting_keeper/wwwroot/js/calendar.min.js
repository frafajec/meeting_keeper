function eventHTML(){var e="";e+='<div id="eventForm">',e+='<div class="col-md-6"> <div class="form-group">',e+='   <div class="input-group date" id="eStart">',e+='       <span class="input-group-addon"> <span class="glyphicon glyphicon-calendar"></span> </span>',e+='       <label for="eStart-input" class="control-label">Start time</label>',e+='       <input type="text" class="form-control" id="eStart-input" />',e+="   </div>",e+="</div> </div>",e+='<div class="col-md-6"> <div class="form-group">',e+='   <div class="input-group date" id="eEnd">',e+='       <span class="input-group-addon"> <span class="glyphicon glyphicon-calendar"></span> </span>',e+='       <label for="eEnd-input" class="control-label">End time</label>',e+='       <input type="text" class="form-control" id="eEnd-input" />',e+="   </div>",e+="</div> </div>",e+='<div class="col-md-12">',e+='   <div class="form-group">',e+='       <div class="input-group" id="eTitle">',e+='           <label for="eTitle-input" class="control-label">Title</label>',e+='           <input type="text" class="form-control" id="eTitle-input" />',e+="       </div>",e+="   </div>",e+="</div>",e+='<div class="col-md-12">',e+='   <div class="form-group">',e+='       <div class="input-group" id="eDay">',e+='           <label for="eDay-input" class="control-label"> All day event <input type="checkbox" class="form-control" id="eDay-input" /> </label>',e+="       </div>",e+="   </div>",e+="</div>";var t=[{v:"87",c:"#FF4500",n:"orangered"},{v:"106",c:"#A0522D",n:"sienna"},{v:"47",c:"#CD5C5C",n:"indianred"},{v:"17",c:"#008B8B",n:"darkcyan"},{v:"18",c:"#B8860B",n:"darkgoldenrod"},{v:"68",c:"#32CD32",n:"limegreen"},{v:"42",c:"#FFD700",n:"gold"},{v:"77",c:"#48D1CC",n:"mediumturquoise"},{v:"107",c:"#87CEEB",n:"skyblue"},{v:"46",c:"#FF69B4",n:"hotpink"},{v:"47",c:"#CD5C5C",n:"indianred"},{v:"64",c:"#87CEFA",n:"lightskyblue"},{v:"13",c:"#6495ED",n:"cornflowerblue"},{v:"15",c:"#DC143C",n:"crimson"},{v:"24",c:"#FF8C00",n:"darkorange"},{v:"78",c:"#C71585",n:"mediumvioletred"},{v:"123",c:"#000000",n:"black"}];e+='<div class="col-md-12">',e+='   <div class="form-group">',e+='       <div class="input-group" id="eColor">',e+='           <label for="eColor-input" class="control-label">Color</label>',e+='           <select id="eColor-input">';for(var n=0;n<t.length;n++)e+='<option value="'+t[n].v+'" data-color="'+t[n].c+'">'+t[n].n+"</option>";return e+="           </select>",e+="       </div>",e+="   </div>",e+="</div>",e+="</div>"}function formatTime(e){function t(e){return e=parseInt(e),e>10?e:"0"+e}return t(e.getDate())+"."+t(parseInt(e.getMonth())+1)+"."+e.getFullYear()+" "+t(e.getHours())+":"+t(e.getMinutes())}function reformatTime(e){var t=e.split(" ")[0].split(".");return new Date(t[2]+"/"+t[1]+"/"+t[0]+" "+e.split(" ")[1]).toISOString()}function addEvent(e,t){swal({title:"Add event",confrmButtonText:"Add",cancelButtonText:"Cancel",text:eventHTML(),showCancelButton:!0,html:!0,type:"input"},function(e){if(e){var t=$(".sweet-alert #eventForm"),n={title:t.find("#eTitle-input").val(),start:t.find("#eStart-input").val()?reformatTime(t.find("#eStart-input").val()):"",end:t.find("#eEnd-input").val()?reformatTime(t.find("#eEnd-input").val()):"",allDay:$("#eDay-input").prop("checked"),color:t.find("#eColor-input option[value="+t.find("#eColor-input").val()+"]").data("color")};$("#calendar").fullCalendar("renderEvent",n,!0)}else swal("Cancelled","Your imaginary file is safe :)","error")}),$("#calendar").fullCalendar("unselect"),$(".sweet-alert").find("fieldset").hide(),$("#eStart").datetimepicker({format:"DD.MM.YYYY HH:mm",minDate:new Date}),$("#eEnd").datetimepicker({format:"DD.MM.YYYY HH:mm",useCurrent:!1}),$("#eStart").on("dp.change",function(e){$("#eEnd").data("DateTimePicker").minDate(e.date)}),$("#eEnd").on("dp.change",function(e){$("#eStart").data("DateTimePicker").maxDate(e.date)}),$("#eColor-input").colorselector()}function editEvent(e,t){swal({title:"Edit event",confrmButtonText:"Edit",cancelButtonText:"Cancel",text:eventHTML(),showCancelButton:!0,html:!0,type:"input"},function(t){if(t){var n=$(".sweet-alert #eventForm"),a={title:n.find("#eTitle-input").val(),start:n.find("#eStart-input").val()?reformatTime(n.find("#eStart-input").val()):"",end:n.find("#eEnd-input").val()?reformatTime(n.find("#eEnd-input").val()):"",allDay:$("#eDay-input").prop("checked"),color:n.find("#eColor-input option[value="+n.find("#eColor-input").val()+"]").data("color")};e.title=a.title,e.start=a.start,e.end=a.end,e.allDay=a.allDay,e.color=a.color,$("#calendar").fullCalendar("updateEvent",e)}else swal("Cancelled","Your imaginary file is safe :)","error")}),$("#calendar").fullCalendar("unselect"),$(".sweet-alert").find("fieldset").hide(),$("#eStart").datetimepicker({format:"DD.MM.YYYY HH:mm"}),$("#eEnd").datetimepicker({format:"DD.MM.YYYY HH:mm",useCurrent:!1}),$("#eStart").on("dp.change",function(e){$("#eEnd").data("DateTimePicker").minDate(e.date)}),$("#eEnd").on("dp.change",function(e){$("#eStart").data("DateTimePicker").maxDate(e.date)}),$("#eColor-input").colorselector(),$("#eColor-input").colorselector("setColor",e.color),$("#eStart-input").val(formatTime(e.start._d)),$("#eEnd-input").val(e.end?formatTime(e.end._d):""),$("#eTitle-input").val(e.title),$("#eDay-input").prop("checked",e.allDay)}$(document).ready(function(){$("#calendar").fullCalendar({timeFormat:"HH:mm",firstDay:1,hiddenDays:[],editable:!0,eventLimit:!0,selectable:!0,selectHelper:!0,select:addEvent,eventClick:editEvent,header:{left:"prev,next today",center:"title",right:"month,agendaWeek,agendaDay"}})});